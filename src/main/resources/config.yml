# ========================================
#         Configuration PrisonTycoon
# ========================================
# Plugin de minage avec pioche l√©gendaire
# Auteur: PrisonCore
# Version: 1.0.0

# ========================================
#           OPTIONS G√âN√âRALES
# ========================================

debug: false
auto-save-interval: 300 # secondes (5 minutes)
cache-cleanup-interval: 3000 # secondes (50 minutes)

# ========================================
#              MINES
# ========================================
# Configuration des mines prot√©g√©es
# Format: nom_mine -> coordonn√©es + composition

mines:
  # Mine A - Mine de d√©butant
  mine-a:
    world: world  # Nom du monde (optionnel, utilise le monde principal par d√©faut)
    coordinates:
      min-x: 100
      min-y: 10
      min-z: 100
      max-x: 150
      max-y: 60
      max-z: 150
    blocks:
      stone: 0.5      # 50% de pierre
      cobblestone: 0.3 # 30% de cobblestone
      coal_ore: 0.15   # 15% de minerai de charbon
      iron_ore: 0.05   # 5% de minerai de fer

  # Mine B - Mine interm√©diaire
  mine-b:
    coordinates:
      min-x: -150
      min-y: 10
      min-z: 100
      max-x: -100
      max-y: 60
      max-z: 150
    blocks:
      stone: 0.4
      cobblestone: 0.25
      coal_ore: 0.15
      iron_ore: 0.1
      gold_ore: 0.05
      redstone_ore: 0.04
      diamond_ore: 0.01

  # Mine C - Mine avanc√©e
  mine-c:
    coordinates:
      min-x: 100
      min-y: 10
      min-z: -150
      max-x: 150
      max-y: 60
      max-z: -100
    blocks:
      stone: 0.3
      coal_ore: 0.2
      iron_ore: 0.15
      gold_ore: 0.1
      redstone_ore: 0.1
      lapis_ore: 0.05
      diamond_ore: 0.05
      emerald_ore: 0.03
      ancient_debris: 0.02

  # Mine D - Mine l√©gendaire
  mine-d:
    coordinates:
      min-x: -150
      min-y: 10
      min-z: -150
      max-x: -100
      max-y: 60
      max-z: -100
    blocks:
      coal_ore: 0.25
      iron_ore: 0.2
      gold_ore: 0.15
      redstone_ore: 0.1
      lapis_ore: 0.1
      diamond_ore: 0.1
      emerald_ore: 0.05
      ancient_debris: 0.05

# ========================================
#          VALEURS DES BLOCS
# ========================================
# Gains √©conomiques par type de bloc min√©

block-values:
  # Blocs de base
  stone:
    coins: 5
    tokens: 2
    experience: 10

  cobblestone:
    coins: 3
    tokens: 1
    experience: 8

  # Minerais communs
  coal_ore:
    coins: 15
    tokens: 5
    experience: 25

  iron_ore:
    coins: 30
    tokens: 10
    experience: 50

  # Minerais rares
  gold_ore:
    coins: 75
    tokens: 25
    experience: 100

  redstone_ore:
    coins: 50
    tokens: 20
    experience: 80

  lapis_ore:
    coins: 60
    tokens: 25
    experience: 90

  # Minerais pr√©cieux
  diamond_ore:
    coins: 200
    tokens: 75
    experience: 300

  emerald_ore:
    coins: 300
    tokens: 100
    experience: 400

  # Minerais l√©gendaires
  ancient_debris:
    coins: 1000
    tokens: 500
    experience: 1500

# ========================================
#          ENCHANTEMENTS
# ========================================
# Param√®tres des enchantements custom

enchantments:
  # Enchantements √©conomiques - Param√®tres Greed
  greed:
    base-chance: 0.05           # 5% de chance de base pour tous les Greeds
    luck-bonus-per-level: 0.002 # +0.2% par niveau de Luck
    token-multiplier: 5         # Tokens par niveau de Token Greed
    exp-multiplier: 50          # XP par niveau d'Exp Greed
    money-multiplier: 10        # Coins par niveau de Money Greed

  # Combustion
  combustion:
    max-gauge: 1000             # Jauge maximum
    decay-per-second: 1         # D√©croissance par seconde
    min-gain-per-block: 1       # Gain minimum par bloc
    max-gain-ratio: 0.1         # Gain max = niveau / 10

  # Abondance
  abundance:
    duration-seconds: 60        # Dur√©e de l'effet en secondes
    multiplier: 2.0             # Multiplicateur des gains
    base-chance: 0.000001       # 0.0001% par niveau

  # Cl√©s
  keys:
    base-chance: 0.0001
    probabilities:
      cristal: 0.00005
      legendaire: 0.00995
      rare: 0.09
      peu-commune: 0.20
      commune: 0.70

  # Fortune
  fortune:
    multiplier-per-level: 0.2   # +20% par niveau

  # Efficacit√©
  efficiency:
    max-level: 100               # Niveau maximum
    speed-bonus-per-level: 0.1  # Bonus de vitesse par niveau

  # Solidit√©
  durability:
    bonus-per-level: 0.1        # +10% de durabilit√© par niveau
    max-level: 20

  # Enchantements de mobilit√©
  mobility:
    night-vision:
      max-level: 1
      cost: 150000

    speed:
      max-level: 3
      base-cost: 100000
      cost-multiplier: 2        # Co√ªt = base * niveau¬≤

    haste:
      max-level: 5
      base-cost: 500000
      cost-multiplier: 3        # Co√ªt = base * niveau¬≥

    jump-boost:
      max-level: 5
      base-cost: 75000
      cost-multiplier: 3

    escalator:
      max-level: 1
      cost: 200000
      min-air-blocks: 2         # Blocs d'air requis √† la surface

  # Enchantements sp√©ciaux
  special:
    luck:
      max-level: 500
      bonus-per-level: 0.002    # +0.2% par niveau

    laser:
      max-level: 2000
      base-chance: 0.00002      # 0.002% par niveau
      max-distance: 1000         # Distance maximum du laser
      radius: 1                 # Rayon du laser (1 bloc)

    explosion:
      max-level: 100
      base-chance: 0.0002       # 0.02% par niveau
      min-radius: 1             # Rayon minimum
      max-radius: 3             # Rayon maximum

# ========================================
#        CO√õTS DES ENCHANTEMENTS
# ========================================
# Formules de co√ªt pour chaque enchantement

costs:
  # Enchantements √©conomiques
  token_greed:
    base: 5000
    exponent: 1.5               # Co√ªt = base * niveau^exponent

  exp_greed:
    base: 3000
    exponent: 1.5

  money_greed:
    base: 4000
    exponent: 1.5

  key_greed:
    base: 500000
    exponent: 1.8

  abundance:
    base: 3000
    exponent: 1.5

  combustion:
    base: 5000
    exponent: 1.5

  pet_xp:
    base: 2000
    exponent: 1.5

  # Enchantements d'efficacit√©
  efficiency:
    base: 10000
    exponent: 2.0               # Plus cher exponentiellement

  fortune:
    base: 2000
    exponent: 1.6

  durability:
    base: 10000
    exponent: 5.0               # Tr√®s cher

  # Enchantements de mobilit√© (co√ªts fixes ou simples)
  night_vision:
    base: 150000
    exponent: 1.0               # Co√ªt fixe

  speed:
    base: 100000
    exponent: 2.0

  haste:
    base: 500000
    exponent: 3.0

  jump_boost:
    base: 75000
    exponent: 3.0

  escalator:
    base: 200000
    exponent: 1.0               # Co√ªt fixe

  # Enchantements sp√©ciaux
  luck:
    base: 3000
    exponent: 1.5

  laser:
    base: 20000
    exponent: 2.0

  explosion:
    base: 25000
    exponent: 1.05              # Croissance lente

# ========================================
#          PRIX DE VENTE
# ========================================
# Prix de vente des items pour /sell

sell-prices:
  # Blocs de base
  stone: 1
  cobblestone: 1
  dirt: 0
  grass_block: 1

  # Minerais bruts
  coal_ore: 5
  iron_ore: 10
  gold_ore: 25
  redstone_ore: 15
  lapis_ore: 20
  diamond_ore: 50
  emerald_ore: 75
  ancient_debris: 200

  # Minerais deepslate
  deepslate_coal_ore: 6
  deepslate_iron_ore: 12
  deepslate_gold_ore: 30
  deepslate_redstone_ore: 18
  deepslate_lapis_ore: 25
  deepslate_diamond_ore: 60
  deepslate_emerald_ore: 90

  # Items raffin√©s
  coal: 3
  iron_ingot: 8
  gold_ingot: 20
  redstone: 2
  lapis_lazuli: 3
  diamond: 40
  emerald: 60
  netherite_scrap: 150
  netherite_ingot: 800

  # Items de craft
  iron_nugget: 1
  gold_nugget: 2
  diamond_nugget: 4

  # Autres blocs utiles
  obsidian: 5
  quartz: 4
  nether_quartz: 4

  # Blocs de construction
  oak_log: 2
  spruce_log: 2
  birch_log: 2
  jungle_log: 2
  acacia_log: 2
  dark_oak_log: 2
  crimson_stem: 3
  warped_stem: 3

# ========================================
#            PIOCHE L√âGENDAIRE
# ========================================

pickaxe:
  # Position obligatoire
  required-slot: 0              # Slot 0 (premier slot de l'inventaire)

  # Enchantements par d√©faut
  default-enchantments:
    token_greed: 5
    efficiency: 3
    durability: 1

  # Protection
  protect-from-drop: true       # Emp√™che de jeter la pioche
  protect-from-move: true       # Emp√™che de d√©placer la pioche
  protect-from-commands: true   # Bloque les commandes dangereuses
  auto-return-slot: true        # Remet automatiquement au bon slot

  # Fonctionnement hors mine
  outside-mine:
    allow-efficiency: true      # Efficacit√© fonctionne hors mine
    allow-durability: true      # Solidit√© fonctionne hors mine
    allow-mobility: true        # Mobilit√© fonctionne hors mine
    allow-greed: false          # Greeds NE fonctionnent PAS hors mine
    allow-special: false        # Effets sp√©ciaux NE fonctionnent PAS hors mine

# ========================================
#         SYST√àME DE NOTIFICATIONS
# ========================================

notifications:
  # Action Bar (Greed notifications)
  action-bar:
    enabled: true
    cooldown-ms: 1000           # 1 seconde entre notifications
    accumulation-window-ms: 3000 # 3 secondes pour cumuler m√™me type
    max-queue-size: 10          # Maximum 10 notifications en attente

  # Scoreboard
  scoreboard:
    enabled: true
    update-interval-seconds: 20 # Mise √† jour toutes les 20 secondes
    auto-create: true           # Cr√©e automatiquement √† la connexion

  # Chat (r√©capitulatif minute)
  chat:
    enabled: true
    summary-interval-seconds: 60 # R√©capitulatif toutes les minutes
    require-mining-activity: true # Seulement si le joueur a min√©
    include-totals: true        # Inclut les totaux actuels

# ========================================
#          INTERFACE UTILISATEUR
# ========================================

gui:
  # Couleurs des statuts d'enchantements
  colors:
    upgradeable: "¬ßa"          # Vert - Am√©liorable
    insufficient: "¬ßc"         # Rouge - Tokens insuffisants
    new: "¬ße"                   # Jaune - Nouveau
    maxed: "¬ß2"                 # Vert fonc√© - Niveau max

  # Messages de l'interface
  messages:
    max-level: "¬ßc‚ùå Niveau maximum atteint"
    insufficient-tokens: "¬ßcTokens insuffisants!"
    upgrade-success: "¬ßa‚úÖ Enchantement am√©lior√©!"
    auto-enabled: "¬ßa‚úÖ Auto-am√©lioration activ√©e"
    auto-disabled: "¬ßc‚ùå Auto-am√©lioration d√©sactiv√©e"

# ========================================
#           MESSAGES
# ========================================

messages:
  # Messages g√©n√©raux
  prefix: "¬ß6[PrisonTycoon]¬ßr "
  no-permission: "¬ßcVous n'avez pas la permission!"
  player-only: "¬ßcCette commande ne peut √™tre ex√©cut√©e que par un joueur!"
  invalid-player: "¬ßcJoueur introuvable ou hors ligne!"

  # Messages de la pioche
  pickaxe:
    already-have: "¬ßcVous avez d√©j√† une pioche l√©gendaire!"
    inventory-full: "¬ßcVotre inventaire est plein!"
    given: "¬ßa‚úÖ Pioche l√©gendaire obtenue!"
    cannot-drop: "¬ßc‚ùå Vous ne pouvez pas jeter la pioche l√©gendaire!"
    cannot-move: "¬ßc‚ùå La pioche l√©gendaire doit rester dans le slot 1!"
    wrong-slot: "¬ßc‚ùå La pioche l√©gendaire doit √™tre dans le slot 1 pour fonctionner!"
    action-blocked: "¬ßc‚ùå Action interdite avec la pioche l√©gendaire!"
    durability-broken: "¬ßc‚ö†Ô∏è Votre pioche est endommag√©e! R√©parez-la pour r√©activer tous les enchantements."
    returned-to-slot: "¬ße‚ö†Ô∏è Pioche l√©gendaire replac√©e dans le slot 1 (position obligatoire)"

  # Messages des mines
  mine:
    only-legendary: "¬ßc‚ùå Seule la pioche l√©gendaire peut miner dans cette zone!"
    cannot-place: "¬ßc‚ùå Impossible de placer des blocs dans une mine!"
    not-found: "¬ßcMine introuvable dans la configuration!"
    regenerating: "¬ßcLa mine est d√©j√† en cours de r√©g√©n√©ration!"
    generated: "¬ßaMine g√©n√©r√©e avec succ√®s!"
    generation-started: "¬ß7G√©n√©ration de la mine en cours..."

  # Messages √©conomiques
  economy:
    limit-reached: "¬ßcLimite atteinte!"
    tokens-given: "¬ßa‚úÖ Tokens donn√©s avec succ√®s!"
    tokens-received: "¬ßaüì• Vous avez re√ßu des tokens!"

  # Messages des enchantements
  enchantments:
    abundance-activated: "¬ß6üåü ABONDANCE ACTIV√âE! ¬ßeGains doubl√©s pendant %duration% secondes!"
    key-obtained: "¬ßeüóùÔ∏è Cl√© %type% obtenue!"
    laser-activated: "¬ßc‚ö° Laser activ√©! ¬ße%blocks% blocs d√©truits en ligne (rayon %radius%)!"
    explosion-activated: "¬ß4üí• Explosion rayon %radius%! ¬ße%blocks% blocs d√©truits!"
    escalator-used: "¬ßa‚ú® Escalateur activ√©! T√©l√©portation vers la surface."
    escalator-blocked: "¬ßcImpossible de se t√©l√©porter: surface obstru√©e!"
    outside-mine-restriction: "¬ßc‚ö†Ô∏è Hors mine: seuls efficacit√©, solidit√© et mobilit√© actifs!"

# ========================================
#         OPTIMISATIONS
# ========================================

performance:
  # Limite de sauvegarde
  max-save-batch-size: 50     # Nombre maximum de joueurs sauvegard√©s en une fois

  # Cache
  cache-max-size: 1000        # Nombre maximum de joueurs en cache
  cache-expire-minutes: 30    # Expiration du cache en minutes

  # G√©n√©ration de mines
  mine-generation-batch: 1000 # Blocs trait√©s par batch
  mine-generation-delay: 1    # D√©lai entre les batches (ms)

  # T√¢ches
  task-intervals:
    action-bar-ticks: 10      # ActionBar toutes les 10 ticks (0.5s)
    scoreboard-ticks: 100     # R√âDUIT : Scoreboard toutes les 100 ticks (5s) au lieu de 400 (20s)
    chat-ticks: 1200          # Chat toutes les 1200 ticks (60s)
    auto-save-ticks: 6000     # Sauvegarde toutes les 6000 ticks (5min)
    combustion-ticks: 20      # Combustion toutes les 20 ticks (1s)
    auto-upgrade-ticks: 200   # Auto-upgrade toutes les 200 ticks (10s)

  # T√¢ches asynchrones
  async-save: true            # Sauvegarde asynchrone
  async-mine-generation: true # G√©n√©ration de mine asynchrone

# ========================================
#           S√âCURIT√â
# ========================================

security:
  # Limites de valeurs
  max-currency-value: 9223372036854775807  # Long.MAX_VALUE / 2
  max-enchantment-level: 2147483647        # Integer.MAX_VALUE

  # Protection contre les abus
  max-upgrade-per-click: 1000   # Am√©lioration maximum en un clic
  cooldown-commands: 1000       # Cooldown entre commandes (ms)

  # Validation
  validate-coordinates: true    # Valide les coordonn√©es des mines
  validate-probabilities: true # Valide que les probabilit√©s totalisent 1.0
  validate-enchantment-costs: true # Valide les co√ªts d'enchantements

# ========================================
#           BASE DE DONN√âES
# ========================================

database:
  # Type: YAML (fichiers), MySQL, SQLite (futures versions)
  type: "YAML"

  # Options pour YAML
  yaml:
    pretty-print: true        # Formatage lisible
    auto-backup: true         # Sauvegarde automatique
    backup-interval: 3600     # Intervalle de sauvegarde (secondes)
    max-backups: 5            # Nombre maximum de sauvegardes

# ========================================
#           HOOKS ET API
# ========================================

hooks:
  # PlaceholderAPI (futur)
  placeholderapi: false

  # Vault (futur)
  vault: false

  # WorldGuard (futur)
  worldguard: false

# ========================================
#        FONCTIONNALIT√âS AVANC√âES
# ========================================

advanced:
  # Auto-am√©lioration
  auto-upgrade:
    enabled: true
    check-interval: 200       # Ticks (10 secondes)
    max-per-check: 5          # Am√©liorations max par v√©rification
    required-permission: "specialmine.vip" # Permission requise

  # Statistiques
  statistics:
    enabled: true
    track-detailed: true      # Statistiques d√©taill√©es
    track-blocks-mined: true  # Distinction blocs min√©s/cass√©s
    track-greed-triggers: true # Comptage des d√©clenchements Greed

  # √âv√©nements custom
  custom-events:
    enabled: true

  # M√©triques
  metrics:
    enabled: true
    bstats: true              # Envoie des statistiques anonymes

# ========================================
#            DEBUG ET LOGS
# ========================================

logging:
  # Niveaux de log
  log-level: "INFO"           # DEBUG, INFO, WARNING, ERROR
  log-enchantment-triggers: false # Log chaque d√©clenchement d'enchantement
  log-block-mining: false    # Log chaque bloc min√©
  log-greed-notifications: false # Log notifications Greed
  log-performance: true      # Log performances des t√¢ches

  # Fichiers de log s√©par√©s
  separate-files:
    enabled: false
    enchantments-file: "enchantments.log"
    mining-file: "mining.log"
    economy-file: "economy.log"

# Version du fichier de configuration (ne pas modifier)
config-version: 2